<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Streaming IP Camera</title>
    <link href = "index.css" type = "text/css" rel = "stylesheet" />
</head>
<body>
    <ul id="menu">
        <li class="parent"><a href="#">Live</a></li>
        <li class="parent"><a href="#">Encode Mode<span class="expand">&raquo;</span></a>
            <ul class="child">
            <li><button id ="btn1" value = "11" onClick = "sendSettings();"><a href ="#" nowrap>H.264</a></button></li>
            <li><button id ="btn2" value = "12" onClick = "sendSettings();"><a href ="#" nowrap>H.264B</a></button></li>
            <li><button id ="btn3" value = "13" onClick = "sendSettings();"><a href ="#" nowrap>H.264H</a></button></li>
            <li><button id ="btn4" value = "14" onClick = "sendSettings();"><a href ="#" nowrap>MJPEG</a></button></li>
            </ul>
        </li>
        <li class="parent"><a href="#">Resolution<span class="expand">&raquo;</span></a>
            <ul class="child">
            <li><button id ="btn5" value = "21" onClick = "sendSettings();"><a href="#" nowrap>1080p (1920*1080)</a></button></li>
            <li><button id ="btn6" value = "22" onClick = "sendSettings();"><a href="#" nowrap>SXGA (1280*1024)</a></button></li>
            <li><button id ="btn7" value = "23" onClick = "sendSettings();"><a href="#" nowrap>1.3M (1280*960)</a></button></li>
            <li><button id ="btn8" value = "24" onClick = "sendSettings();"><a href="#" nowrap>720p (1280*720)</a></button></li>
            </ul>
        </li>
        <li class="parent"><a href="#">Frame Rate<span class="expand">&raquo;</span></a>
            <ul class="child">
                <li><a href="#" nowrap>1</a></li>
                <li><a href="#" nowrap>2</a></li>
                <li><a href="#" nowrap>3</a></li>
                <li><a href="#" nowrap>4</a></li>
                <li><a href="#" nowrap>5</a></li>
                <li><a href="#" nowrap>6</a></li>
                <li><a href="#" nowrap>7</a></li>
                <li><a href="#" nowrap>8</a></li>
                <li><a href="#" nowrap>9</a></li>
                <li><a href="#" nowrap>10</a></li>
                <li><a href="#" nowrap>11</a></li>
                <li><a href="#" nowrap>12</a></li>
                <li><a href="#" nowrap>13</a></li>
                <li><a href="#" nowrap>14</a></li>
                <li><a href="#" nowrap>15</a></li>
                <li><a href="#" nowrap>16</a></li>
                <li><a href="#" nowrap>17</a></li>
                <li><a href="#" nowrap>18</a></li>
                <li><a href="#" nowrap>19</a></li>
                <li><a href="#" nowrap>20</a></li>
                <li><a href="#" nowrap>21</a></li>
                <li><a href="#" nowrap>22</a></li>
                <li><a href="#" nowrap>23</a></li>
                <li><a href="#" nowrap>24</a></li>
                <li><a href="#" nowrap>25</a></li>
            </ul>
        </li>
        <li class="parent"><a href="#">Bit Rate Type<span class="expand">&raquo;</span></a>
            <ul class="child">			
                <li class="parent"><a href="#">Constant Bit Rate<span class="expand">&raquo;</span></a>
                    <ul class="child">
                        <li><a href="#" nowrap>1024</a></li>
                        <li><a href="#" nowrap>1280</a></li>
                        <li><a href="#" nowrap>1536</a></li>
                        <li><a href="#" nowrap>1792</a></li>
                        <li><a href="#" nowrap>2048</a></li>
                        <li><a href="#" nowrap>4096</a></li>
                        <li><a href="#" nowrap>6144</a></li>
                        <li><a href="#" nowrap>8192</a></li>
                        <li><a href="#" nowrap>10240</a></li>
                    </ul>
                </li>
                <li class="parent"><a href="#">Variable Bit Rate<span class="expand">&raquo;</span></a>
                    <ul class="child">
                        <li><a href="#" nowrap>Quality Level 1</a></li>
                        <li><a href="#" nowrap>Quality Level 2</a></li>
                        <li><a href="#" nowrap>Quality Level 3</a></li>
                        <li><a href="#" nowrap>Quality Level 4</a></li>
                        <li><a href="#" nowrap>Quality Level 5</a></li>
                        <li><a href="#" nowrap>Quality Level 6(Best)</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <script>
        document.getElementById("btn1").addEventListener('click', function() {
            const data = {value: 131};
            const options = {
                method: 'POST',
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data)
            };
            await fetch('/startMyFunction', options); 
        });
    </script>
   <div>  
       <canvas id="chanel1"></canvas>
       <script type="text/javascript" src="jsmpeg.min.js"></script>
       <script type="text/javascript">
            var canvas = document.getElementById('chanel1');
            var websocket = new WebSocket("ws://127.0.0.1:9999");
            var player = new jsmpeg(websocket, {canvas:canvas, autoplay:true, loop:true})
       </script>
   </div>
</body>
</html> 
